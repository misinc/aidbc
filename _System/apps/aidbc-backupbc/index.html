<!DOCTYPE html>
<html>
	<head>
		<title>Backup BC</title>
		<meta meta http-equiv="X-UA-Compatible" content="IE=edge">
		<link href="styles/styles.css" rel="stylesheet">
		<link href="styles/custom.pack.css" rel="stylesheet">
		<link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
		<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
	</head>
	<body id="main" class="hybrid">
		<div id="overlay"></div>
		<div id="loadingIndicator"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div></div>
		<div id="container-body">
			<ul id="hybridSubmenu">
				<li class="active"><a href="index.html">Backups</a></li>
				<li><a href="settings.html">Settings</a></li>
				<li><a href="instructions.html">Instructions</a></li>
			</ul>
			<div id="info-link"><a href="about.html"><i class="fa fa-info-circle"></i></a></div>
			<div id="storageAlert" class="alert-box">
				<a class="close">&times;</a>
				<h2>Storage Limits Reached</h2>
				<p>You have reached the Storage Limits you established for BackupBC. You can change your Storage Limits by clicking the Settings tab.</p>
			</div>
			<div id="cloudStorageAlert" class="alert-box">
				<a class="close">&times;</a>
				<h2><span class="cloud-name"></span> Authorization Needed</h2>
				<p>BackupBC needs to authorize access to your <span class="cloud-name"></span> cloud storage account for this device. This may be because you've logged in with a different device or browser than when you set up your cloud storage account, or you have cleared your browser's history. Please click the button below to authorize access again now. Until you've authorized access, backups cannot be uploaded to your cloud storage account.</p>
				<p id="reauthorize"><br><a href="#" class="button">Authorize Now</a></p>
			</div>
			<div id="backup-local-success" class="alert-box blue">
				<a class="close">&times;</a>
				<h2><strong class="hideOnError">Success!</strong> Your backup is complete.</h2>
                <p>Your backup was saved to your computer. Your backup details appear in the list below.</p>
			</div>
			<div id="backup-site-success" class="alert-box blue">
				<a class="close">&times;</a>
				<h2><strong class="hideOnError">Success!</strong> Your backup is complete.</h2>
                <p>Your backup was uploaded to your website and can be downloaded from the list below.</p>
			</div>
			<div id="backup-cloud-success" class="alert-box blue">
				<a class="close">&times;</a>
				<h2><strong class="hideOnError">Success!</strong> Your backup was saved to your <span class="cloud-name"></span> account.</h2>
                <p>Your backup details appear in the list below. You can download your backup from your <span class="cloud-name"></span> account.</p>
			</div>
			<div id="incompleteBackup" class="alert-box">
				<a class="close">&times;</a>
				<h2>Note: Some items were not successfully backed up</h2>
				<p>These items were not successfully backed up:</p>
				<ul></ul>
				<p>Please check the instructions page for ways to correct this.</p>
			</div>
			<div id="limitExceeded" class="alert-box">
				<a class="close">&times;</a>
				<h2>Your backup size exceeds the upload size limit to your website.</h2>
				<p>Your backup archive file exceeds the 250mb limit set by Business Catalyst for uploads. In order to reduce the size of your backup, try breaking your file backups into incremental chunks by date ranges and doing separate backups of Files, Web Apps, CRM and E-Commerce.</p>
				<p id="localSave"><br><a href="#" class="button">Download Backup</a></p>
				<p id="notSaveable" class="hide"><br><i>The browser you are using doesn't support downloading a local copy.</i> If you run your backup using a different browser (Firefox, Chrome, or IE) then you will be able to download a local copy of backups that exceed 250MB.</p>
			</div>
			<div id="backups">
				<div id="backupBox" class="box-item">
					<div id="chooseBackup">
						<h2 class="hybridFormHeader"><span class="hybridFormTitlewrap">Choose Backup Options</span></h2>
						<div id="hybridButtons" class="hide" style="margin-bottom:0 !important;">
							<a id="complete-backup" class="basic-button small-button call-to-action">Start Complete Backup</a>
							<a id="custom-backup" class="basic-button small-button">Custom Backup</a>
						</div>
						<div id="custom-options">
							<strong class="hide">Custom Backup Options</strong>
							<label id="backup-opts-files"><input type="checkbox" checked="checked"> Files</label>
							<label id="backup-opts-webapps"><input type="checkbox" checked="checked"> Web Apps</label>
							<label id="backup-opts-crm"><input type="checkbox" checked="checked"> CRM</label>
							<label id="backup-opts-ecom"><input type="checkbox" checked="checked"> Ecommerce</label>
							<div id="filesBetween" class="hide">
								<br><label><input type="checkbox"> Only files created or modified between:</label> 
								<div class="hide">
									<input id="filesStart" name="filesStart" type="text" readonly style="background-color: #f0f0f0;" onfocus="displayDatePicker('filesStart');return false;">
									and <input id="filesEnd" name="filesEnd" type="text" readonly style="background-color: #f0f0f0;" onfocus="displayDatePicker('filesEnd');return false;">
								</div>
							</div>
							<div id="crmSince" class="hide">
								<br><label><input type="checkbox"> Only CRM records created or updated since:</label> 
								<div class="hide">
									<input id="crmStart" name="crmStart" type="text" readonly style="background-color: #f0f0f0;" onfocus="displayDatePicker('crmStart');return false;">
								</div>
							</div>
							<br><br>
							<a id="custom-backup-go" class="basic-button large-button call-to-action"><i class="fa fa-hand-o-right"></i> Start Backup</a>
							<!-- <a id="upgrade-automated-backups" class="basic-button large-button"><i class="fa fa-calendar"></i> Upgrade to Automated Backups</a> -->
							<!-- <a id="custom-backup-cancel" class="basic-button small-button">Cancel</a> -->
						</div>
					</div>
					<div id="backupProgress" style="display:none;">
						<h2 class="hybridFormHeader"><span class="hybridFormTitlewrap">Backup Progress<span class="stepsProgress"></span></span></h2>
						<div id="progressIndicator"><div class="fill"></div></div>
						<div id="progressMessage"></div>
						<div id="XofXmessage"></div>
						<div id="XofXprog"></div>
						<p id="backup-active">ALERT: Please do not leave this page until backup is complete. This may take several minutes or longer, depending on your site's data needs.</p>
					</div>
					<div id="backupSave" style="display:none;">
						<h2 class="hybridFormHeader"><span class="hybridFormTitlewrap">Backup Ready<span class="stepsProgress"></span></span></h2>
						<br><br>
						<a id="saveLocal" class="basic-button small-button call-to-action">Save to your computer</a>
					</div>
				</div>
				<div id="usageStats" class="box-item">
					<h2 class="hybridFormHeader"><span class="hybridFormTitlewrap">Usage Stats</span></h2>
					<div id="diskUse">
						<strong>Disk Usage</strong> - <span class="current">0</span> MB of <span class="max">0</span> MB (<span class="percent">0</span>%)
						<div class="usageBar"><div class="fill"></div></div>
					</div>
					<div id="numBackups">
						<strong>No. of Backups</strong> - <span class="current">0</span> of <span class="max">0</span> (<span class="percent">0</span>%)
						<div class="usageBar"><div class="fill"></div></div>
					</div>
				</div>
				<div style="clear:both"></div>
			</div>
			<div class="RadGrid RadGrid_Default">
				<table id="curBackups" cellspacing="0" cellpadding="0" class="rgMasterTable">
					<tbody>
						<tr>
							<th class="rgHeader rgCheck" style="width:1%; min-width:10px"></th>
							<th class="rgHeader" style="width:40%">Backup File (click to download)</th>
							<th class="rgHeader" style="width:17%">Created</th>
							<th class="rgHeader" style="width:17%">Location</th>
							<th class="rgHeader" style="width:17%">File Size</th>
							<!-- <th class="rgHeader" style="width:14%">Type</th> -->
							<!-- <th class="rgHeader" style="width:5%">Status</th> -->
							<th class="rgHeader" style="width:8%">Details</th>
						</tr>
						<tr id="emptyMessage"><td colspan="7">You don't have any backups. Please create one.</td></tr>
					</tbody>
					<tfoot>
						<tr class="rgPager">
							<td class="rgPagerCell NextPrevAndNumeric" colspan="7">
								<div class="rgWrap rgArrPart1">
									<a class="rgPageFirst disable" title="First Page"></a>
									<a class="rgPagePrev disable" title="Previous Page"></a>
								</div>
								<div class="rgWrap rgNumPart"></div>
								<div class="rgWrap rgArrPart2">
									<a class="rgPageNext disable" title="Next Page"></a>
									<a class="rgPageLast disable" title="Last Page"></a>
								</div>
								<div class="rgWrap rgAdvPart">
									<span class="rgPagerLabel" id="pageSizeLabel">Page size:</span>
									<div class="RadComboBox RadComboBox_Default" id="pageSizeComboBox" data-target="pageSizeComboBox_DropDown" data-transition="slideDown">
										<table summary="combobox">
											<tbody>
												<tr class="rcbReadOnly">
													<td class="rcbInputCell rcbInputCellLeft"><input type="text" readonly value="20" id="PageSizeComboBox_Input" class="rcbInput" name="" autocomplete="off"></td>
													<td class="rcbArrowCell rcbArrowCellRight"><a class="pageSizeComboBox_Arrow">select</a></td>
												</tr>
											</tbody>
										</table>
										<div class="rcbSlide" id="pageSizeComboBox_DropDown">
											<div class="RadComboBoxDropDown RadComboBoxDropDown_Default">
												<div class="rcbScroll rcbWidth">
													<ul class="rcbList">
														<li class="rcbItem">10</li>
														<li class="rcbItem">20</li>
														<li class="rcbItem">50</li>
													</ul>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="rgWrap rgInfoPart">
									Displaying page <span id="currentPage"></span> of <span id="totalPages"></span>, items <span id="currentItems"></span> of <span id="totalItems"></span>
								</div>
							</td>
						</tr>
					</tfoot>
				</table>
			</div>
			<div class="footerbuttons">
				<a id="deleteSelected" class="basic-button small-button">Delete Selected Backups</a>
				<div class="option-right">
					<label><input id="logging" type="checkbox"> Generate Debug Log File <i class="info-icon" data-target="logfile-popover" data-direction="left">Info</i></label>
					<div id="logfile-popover" class="popover">
						<div class="popover-box">
							<h1>Generate Debug Log File</h1>
							<p>This option will generate a log file of your backup for debugging purposes. It may slow down your backup and it is recommended that you only turn this option on if asked to do so by the BackupBC support team.</p>
						</div>
						<div class="popover-arrow"></div>
					</div>
				</div>
			</div>
			<input type="hidden" id="automation" value="false">
		</div>
		<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.3.1/jquery.cookie.min.js"></script>
		<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.1/underscore-min.js"></script>
		<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.0.0/backbone-min.js"></script>
		<script type="text/javascript" src="//cdn.worldsecuresystems.com/bcapi/bcapi-0.1.0.min.js"></script>
		<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/dropbox.js/0.10.3/dropbox.js"></script>
		<script type="text/javascript" src="/CatalystScripts/Java_DatePicker.js"></script>
		<script type="text/javascript" src="scripts/base.pack.js?v=1.5"></script>
	</body>
</html>