function setup(){var e=Backbone.Model.extend({});var t=Backbone.Collection.extend({model:e});var n=Backbone.View.extend({events:{"click a":"activate"},activate:function(){var e=this.model.get("id");var t="#template"+e;var n=new u({template:t})},tagName:"li",template:_.template('<a href="#<%=id%>" id="link-<%=id%>"><%=title%></a>'),render:function(){this.$el.html(this.template(this.model.toJSON()));return this}});var r;var i=document.createDocumentFragment();var s=Backbone.View.extend({initialize:function(){submenu=new t;this.listenTo(submenu,"add",this.addSubmenuItem);$(".app-layout").each(function(t){var n="template"+t;$(this).attr("id",n);var r=$(this).data("name");var i=new e({title:r,id:t});submenu.add(i)});this.render();$("#hybridSubmenu li").first().addClass("active")},el:"#hybridSubmenu",collection:t,addSubmenuItem:function(e){var t=new n({model:e});i.appendChild(t.render().el);return this},render:function(){this.$el.html(i)}});var o=new s;Backbone.View=Backbone.View.extend({remove:function(){$(this.el).empty().detach();return this}});var u=Backbone.View.extend({initialize:function(e){this.template=_.template(e.template);this.viewScript=e.viewScript},render:function(){if(this.model==null){$(this.el).html(this.template())}else{$(this.el).html(this.template({styleData:this.model.toJSON()}))}if(this.viewScript!=null){window[this.viewScript]()}return this}});var a=new Array;var f=Backbone.Router.extend({initialize:function(e){this.el=e;$(".app-layout").each(function(e){var t=$(this).data("script");var n=$(this).data("model");var r=window[n];var i=$("#template"+e).html();a[e]=new u({template:i,viewScript:t,model:r})})},routes:{"":"setUpView",":id":"setUpView"},currentView:null,switchView:function(e){if(this.currentView){this.currentView.remove()}this.el.html(e.el);e.render();this.currentView=e},setActiveSubmenu:function(e){$("#hybridSubmenu li").removeClass("active");$("#link-"+e).parent().addClass("active")},setUpView:function(e){if(!isNaN(e)){this.switchView(a[e]);this.setActiveSubmenu(e)}else{this.switchView(a[0])}}});router=new f($("#container-body"));Backbone.history.start();$('<div id="systemNotificationQueue"></div>').appendTo("body");$("#loadingIndicator").hide()}function syncForm(e){var t=BCAPI.Models.FileSystem.Root.file(e);var n=$("#styles-textarea").val();var r=JSON.stringify('{"customField": "'+n+'"}');t.upload(r).done(function(){})}function disableApp(){$("#container-app").css({opacity:.3});$("#loadingIndicator").show();showFooterButtons(false)}function enableApp(){$("#btn-compile").prop("disabled",false);$("#loadingIndicator").hide();$("#container-app").css({opacity:1});showFooterButtons()}function notify(e,t){var n=800;var r=4e3;var i=$('<div class="systemNotification systemNotificationType-ok"><span class="systemNotificationTitle">Success</span><div class="systemNotificationContent">'+t+"</div></div>").hide().appendTo("#systemNotificationQueue").fadeIn(n,function(){$(this).delay(r).fadeOut(n,function(){$(this).remove()})})}function showFooterButtons(e){if(e==false){$(".footerbuttons").hide()}else{$(".footerbuttons").show()}}function deleteApp(){appRoot.destroy().done(function(){})}var router;